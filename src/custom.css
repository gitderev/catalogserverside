@tailwind base;
@tailwind components;
@tailwind utilities;

/* Token tema ad alto contrasto */
:root {
  --bg: #ffffff;           /* sfondo bianco pieno */
  --fg: #0a0a0a;           /* testo quasi-nero */
  --muted: #1f2937;        /* slate-800 per sottotitoli */
  --border: #0f172a;       /* slate-900 per bordi */
  --primary: #111827;      /* slate-900 per bottoni primari */
  --primary-contrast: #ffffff;
  --accent: #2563eb;       /* blu accessorio per focus/links */
  --accent-contrast: #ffffff;
  --success-bg: #e8fff1;
  --success-fg: #065f46;
  --error-bg: #ffecec;
  --error-fg: #991b1b;
}

/* Base */
html, body, #root { height: 100%; }
body {
  background-color: var(--bg);
  color: var(--fg);
  font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans";
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Titoli e testo */
h1, h2, h3, h4 { color: var(--fg); letter-spacing: -0.01em; }
p, label, small, span, th, td { color: var(--fg); }
.text-muted { color: var(--muted); }

/* Link e focus */
a { color: var(--accent); text-underline-offset: 2px; }
a:hover { text-decoration: underline; }
:focus-visible { outline: 2px solid var(--accent); outline-offset: 2px; }

/* Contenitori / card / box upload */
.card { @apply bg-white rounded-2xl shadow-sm; border: 1px solid var(--border); }
.card-body { @apply p-5; }
.card-title { color: var(--fg); @apply text-base font-semibold; }
.dropzone { @apply rounded-xl p-6 bg-white shadow-sm transition; border: 2px dashed var(--border); }
.dropzone:hover { box-shadow: 0 2px 10px rgba(0,0,0,.07); }

/* Badge stato */
.badge-ok { @apply inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs; background: var(--success-bg); color: var(--success-fg); border: 1px solid #10b98122; }
.badge-err { @apply inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs; background: var(--error-bg); color: var(--error-fg); border: 1px solid #ef444422; }

/* Bottoni (testo chiaro su sfondo scuro) */
.btn { @apply inline-flex items-center justify-center px-4 py-2 rounded-xl font-medium transition focus:outline-none focus:ring-2 focus:ring-offset-2; }
.btn-primary { background: var(--primary); color: var(--primary-contrast); border: 1px solid var(--primary); }
.btn-primary:hover { filter: brightness(0.9); }
.btn-secondary { background: #f9fafb; color: var(--fg); border: 1px solid var(--border); }
.btn-secondary:hover { background: #f3f4f6; }
.btn-ghost { background: #ffffff; color: var(--fg); border: 1px solid var(--border); }

/* Barra di progresso */
.progress { @apply w-full h-3 rounded-full; background: #e5e7eb; border: 1px solid var(--border); }
.progress > span { display: block; height: 100%; background: var(--primary); border-right: 1px solid var(--border); border-radius: 9999px; }

/* Tabelle (anteprima e risultati) */
table { width: 100%; border-collapse: separate; border-spacing: 0; }
thead th { background: #f8fafc; color: var(--fg); border-bottom: 2px solid var(--border); text-align: left; padding: .6rem .75rem; }
tbody td { color: var(--fg); padding: .55rem .75rem; border-bottom: 1px solid #e5e7eb; }
.table-zebra tbody tr:nth-child(odd) { background: #fafafa; }

/* Bordi/icone scure */
.border-strong { border: 1px solid var(--border); }
.icon-dark { color: var(--fg); }

/* Stati disabilitati ancora leggibili */
.is-disabled { opacity: .7; filter: none; }